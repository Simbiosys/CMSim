<section class="width-container">
  {{> resort_left_bar}}

  <form method="POST" data-form data-model="pois" class="inner-body"
    {{#if data.pois.id}}
      action="{{page.host}}/manager/pois/{{data.pois.id}}/save"
    {{else}}
      action="{{page.host}}/manager/pois/poi"
    {{/if}}>
    <header class="navbar-form navigation-bar width-container" role="">
      <div class="width-container">
        <a href="{{page.host}}/manager/pois" class="pull-left">
          <i class="fa fa-angle-left fa-3x return-back"></i>
        </a>
        <h1 class="page_title pull-left">
          {{#if data.pois.id}}
            {{get_translation @root.data.poi_translations page.language 'title'}}
          {{else}}
            {{labels.new_pois}}
          {{/if}}
        </h1>
        <nav class="pull-right">
          {{#if data.pois.id}}
          <a href="{{page.host}}/manager/pois/{{data.pois.id}}/delete" class="btn btn-cancel margin-right-8">
            <i class="fa fa-trash-o fa-lg cancel-icon"></i> {{labels.delete}}
          </a>
          {{/if}}
          <button type="submit" class="btn btn-default">
            <i class="fa fa-floppy-o fa-lg"></i> {{labels.save}}
          </button>
        </nav>
      </div>
    </header>

    <input type="hidden" name="id" value="{{data.pois.id}}" data-field />

    <div class="width-container">
      <section class="content-body">

        <div class="row">
          <div class="col-xs-12 margin-bottom-20">
            URL:
            <a href="{{page.host}}/{{page.language}}/pois/{{data.pois.id}}/{{get_translation @root.data.poi_translations page.language 'path'}}" target="_blank">
              {{page.host}}/{{page.language}}/pois/{{data.pois.id}}/{{get_translation @root.data.poi_translations page.language 'path'}}
            </a>
          </div>
        </div>
         <div class="row margin-bottom-10">
          <div class="col-xs-6">
            <label for="coordenadas">{{labels.coordenada}}:</label>
            <input type="text" name="coordinates" class="form-control" value="{{data.pois.coordinates}}" data-field />
          </div>
          <div class="col-xs-6">
            <label for="timeofyear">{{labels.timeofyear}}:</label>
            <input type="text" name="timeofyear" class="form-control" value="{{data.pois.timeofyear}}" data-field />
          </div>
        </div>
        <div class="row margin-bottom-10">
         <div class="col-xs-6">
           <label for="tipo">{{labels.tipo}}:</label>
           <input type="text" name="tipo" class="form-control" value="{{data.pois.tipo}}" data-field />
         </div>
         <div class="col-xs-6">
           <label for="phone"> {{labels.phone}}:</label>
           <input type="text" name="phone" class="form-control" value="{{data.pois.phone}}" data-field />
         </div>
        </div>
        <div class="row margin-bottom-20">
         <div class="col-xs-6">
           <label for="urlinfo">{{labels.urlinfo}}:</label>
           <input type="text" name="url_info" class="form-control" value="{{data.pois.url_info}}" data-field />
         </div>
         <div class="col-xs-6">
           <label for="estaciopropietaria">{{labels.estaciopropietaria}}:</label>
           <input type="text" name="estacio_propietaria" class="form-control" value="{{data.pois.estacio_propietaria}}" data-field />
         </div>
        </div>

        <ul class="nav nav-tabs">
          {{#page.languages}}
            <li role="presentation" class="{{equals @index 0 'active'}}">
              <a href="#" data-tab="{{this}}">
                {{language_name @root.labels this}}
              </a>
            </li>
          {{/page.languages}}
        </ul>

        {{#page.languages}}
          <div class="row language-content" data-content="{{this}}" data-row data-model="poi_translations" data-fk="language" data-fk-value="{{this}}">

            <input type="hidden" name="id" value="{{get_translation @root.data.poi_translations this 'id'}}" data-field="id" data-field />

            <div class="col-xs-12 margin-top-20">
              <label for="title">{{@root.labels.poi_title}} ({{language_name @root.labels this}})</label>
              <input type="text" class="form-control" id="title" name="title" placeholder="{{@root.labels.page_title}}" value="{{get_translation @root.data.poi_translations this 'title'}}" data-field />
            </div>
            <div class="col-xs-12 margin-top-20">
              <label for="title">{{@root.labels.content}} ({{language_name @root.labels this}})</label>
              <textarea class="form-control height-200" id="title" name="content" placeholder="{{@root.labels.content}}" data-field>{{@root.data.content}}{{get_translation @root.data.poi_translations this 'content'}}</textarea>
            </div>
          </div>
        {{/page.languages}}

        <div class="row margin-top-20 padding-bottom-10 border-bottom">
          <div class="col-xs-7 padding-top-5 title-labels">
            {{labels.labels}}
          </div>
          <div class="col-xs-5">
            <button class="btn btn-default pull-right" data-label-add="label_container" data-label-selector="label_selector">
              {{labels.add_label}}
            </button>
            <select class="form-control select-label pull-right" id="label_selector">
              <option value="" disabled selected>{{labels.select_label}}</option>
              {{#data.all_labels}}
                <option value="{{labels.id}}">{{get_translation label_translations @root.page.language 'name'}}</option>
              {{/data.all_labels}}
            </select>
          </div>
        </div>
        <div class="row margin-top-10">
          <div class="col-xs-12" id="label_container">
          </div>
        </div>

      </section>
    </div>
  </form>

</section>

<script src="{{page.web}}/js/labels.js?{{page.version}}"></script>
<script src="{{page.web}}/js/singular/form.js?{{page.version}}"></script>
