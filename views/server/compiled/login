<?php return function ($in, $debugopt = 1) {
    $cx = array(
        'flags' => array(
            'jstrue' => false,
            'jsobj' => false,
            'spvar' => true,
            'prop' => false,
            'method' => false,
            'mustlok' => false,
            'echo' => false,
            'debug' => $debugopt,
        ),
        'constants' =>  array(
            'DEBUG_ERROR_LOG' => 1,
            'DEBUG_ERROR_EXCEPTION' => 2,
            'DEBUG_TAGS' => 4,
            'DEBUG_TAGS_ANSI' => 12,
            'DEBUG_TAGS_HTML' => 20,
        ),
        'helpers' => array(),
        'blockhelpers' => array(),
        'hbhelpers' => array(),
        'partials' => array('flash' => function ($cx, $in, $sp) {return ''.$sp.''.(($cx['funcs']['ifvar']($cx, ((isset($in['page']['flash']) && is_array($in['page'])) ? $in['page']['flash'] : null))) ? '<div class="flash">
'.$sp.'  '.htmlentities((string)((isset($in['page']['flash']) && is_array($in['page'])) ? $in['page']['flash'] : null), ENT_QUOTES, 'UTF-8').'
'.$sp.'</div>
'.$sp.'' : '').'';},),
        'scopes' => array(),
        'sp_vars' => array('root' => $in),
        'lcrun' => 'LCRun3',
'funcs' => array(
    'ifvar' => function ($cx, $v) {
        return !is_null($v) && ($v !== false) && ($v !== 0) && ($v !== 0.0) && ($v !== '') && (is_array($v) ? (count($v) > 0) : true);
    },
    'p' => function ($cx, $p, $v, $sp = '') {
        $param = $v[0][0];

        if (is_array($v[1])) {
            if (is_array($v[0][0])) {
                $param = array_merge($v[0][0], $v[1]);
            } else if (($cx['flags']['method'] || $cx['flags']['prop']) && is_object($v[0][0])) {
                foreach ($v[1] as $i => $v) {
                    $param->$i = $v;
                }
            }
        }

        return call_user_func($cx['partials'][$p], $cx, $param, $sp);
    },
)

    );
    
    return '<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <title>'.htmlentities((string)((isset($in['page']['title']) && is_array($in['page'])) ? $in['page']['title'] : null), ENT_QUOTES, 'UTF-8').'</title>
    <meta name="viewport" content="width=device-width, user-scalable=no">
    <link rel="stylesheet" href="'.htmlentities((string)((isset($in['page']['web']) && is_array($in['page'])) ? $in['page']['web'] : null), ENT_QUOTES, 'UTF-8').'/css/public.css" />
  </head>
  <body>
'.$cx['funcs']['p']($cx, 'flash', array(array($in),array()), '    ').'    <nav>
      <a href="'.htmlentities((string)((isset($in['page']['host']) && is_array($in['page'])) ? $in['page']['host'] : null), ENT_QUOTES, 'UTF-8').'/logout">Cerrar sesi√≥n</a>
    </nav>
    <h1>Login</h1>
    <form method="POST" action="'.htmlentities((string)((isset($in['page']['host']) && is_array($in['page'])) ? $in['page']['host'] : null), ENT_QUOTES, 'UTF-8').'/login">
      <label for="user"></label>
      <input type="text" class="" name="user" placeholder="" />
      <label for="password"></label>
      <input type="password" class="" name="password" placeholder="" />
      <input type="submit" value="Send" />
    </form>
  </body>
</html>
';
}
?>